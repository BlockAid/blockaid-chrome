{"version":3,"sources":["../scripts.babel/app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["var blockAidApp = angular.module('BlockAidApp', []);// jshint ignore:line\n\nblockAidApp.controller('BlockAidController', ['$scope', function ($scope) {\n\n    $scope.setIcon = function () {\n        if ($scope.status === 'true') {\n            if ($scope.mode === 'false') {\n                chrome.runtime.sendMessage({method: 'changeIcon', newIconPath: '../images/default.png'}, function () {\n                });\n            } else {\n                chrome.runtime.sendMessage({method: 'changeIcon', newIconPath: '../images/auto.png'}, function () {\n                });\n            }\n        } else {\n            chrome.runtime.sendMessage({method: 'changeIcon', newIconPath: '../images/disabled.png'}, function () {\n            });\n        }\n    };\n\n    $scope.syncAuto = function () {\n        $.ajax({// jshint ignore:line\n            type: 'GET',\n            url: 'http://0.0.0.0:3000/api/domains',\n            success: function (data) {\n                $scope.$apply(function () {\n                    localStorage.setItem('autoBlockList', JSON.stringify(data));\n                    $scope.blockList = JSON.parse(localStorage.getItem('autoBlockList'));\n                });\n            }\n        });\n    };\n\n\n    $scope.init = function () {\n        $scope.status = localStorage.getItem('status');\n        $scope.manifest = chrome.runtime.getManifest();\n        $scope.mode = localStorage.getItem('mode');\n        if ($scope.mode === 'false') {\n            $scope.blockList = JSON.parse(localStorage.getItem('manualBlockList') || '[]');\n            $scope.inputFormToggle = {'visibility': 'visible'};\n            $scope.checked = false;\n        } else {\n            $scope.syncAuto();\n            console.log('done');\n            $scope.blockList = JSON.parse(localStorage.getItem('autoBlockList') || '[]');\n            $scope.inputFormToggle = {'visibility': 'hidden'};\n            $scope.checked = true;\n        }\n        $scope.setIcon();\n    };\n\n    $scope.init();\n\n    $scope.pushToBlockList = function () {\n        if ($scope.blockItem) {\n            $scope.blockList.push({domain: $scope.blockItem, enabled: true});\n        }\n        $scope.blockItem = '';\n        localStorage.setItem('manualBlockList', JSON.stringify($scope.blockList));\n    };\n\n    $scope.remaining = function () {\n        var count = 0;\n        angular.forEach($scope.blockList, function (todo) {// jshint ignore:line\n            count += todo.enabled ? 0 : 1;\n        });\n        return count;\n    };\n\n    $scope.openSettings = function () {\n        chrome.tabs.create({url: $scope.manifest.options_ui.page});// jshint ignore:line\n    };\n\n    $scope.openWebSite = function () {\n        chrome.tabs.create({url: 'http://www.codeweft.com/blockaid/'});\n    };\n\n    $scope.deleteItem = function (index) {\n        $scope.blockList.splice(index, 1);\n        localStorage.setItem('manualBlockList', JSON.stringify($scope.blockList));\n    };\n\n    $scope.saveItem = function ($index) {// jshint ignore:line\n        localStorage.setItem('manualBlockList', JSON.stringify($scope.blockList));\n    };\n\n    $scope.toggleStatus = function () {\n        var status = $scope.status !== 'true';\n        localStorage.setItem('status', status);\n        $scope.init();\n    };\n\n\n    $scope.toggleMode = function () {\n        var mode = $scope.mode !== 'true';\n        localStorage.setItem('mode', mode);\n        $scope.init();\n    };\n}]);"]}